<!DOCTYPE html>
<html lang="es">

<div th:insert="~{usuarios/template_usuario :: header}"></div>

<body>

  <!-- Navigation -->
  <div th:insert="~{usuarios/template_usuario :: nav}"></div>

    <!-- Page Content -->
    <div class="container">


      <!-- Page Heading/Breadcrumbs -->
      <h1 class="mt-4 mb-3">
        Mybopi <small>Carrito</small>
      </h1>

      <ol class="breadcrumb" style="background-color: rgba(255, 203, 58, 0.329);">
        <li class="breadcrumb-item"><a style="color: black;" th:href="@{/}">Home</a></li>
        <li class="breadcrumb-item active">Carrito</li>
      </ol>

      <!-- Blog Post -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="row">
           <div class="col-lg-9">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Producto</th>
                  <th scope="col"></th>
                  <th scope="col">Precio</th>
                </tr>
              </thead>
              <tbody>
                <!-- si el carrito está vací omostrar un mensaje -->
                <tr th:if="${#lists.isEmpty(pedido.productos)}">
                <td><h3>Carrito vacío</h3></td>
                </tr>
                
                <tr th:each="carrito : ${pedido.productos}">
                  <td><img th:src="@{images/{img} (img = ${carrito.portada})}" width="100px" height="100px"/></td>
                  <td th:text="${carrito.nombre}"></td>
                  <td th:text="${carrito.precio}"></td>
                  <td><a th:href="@{/quitar/{id} (id = ${carrito.id})}" class="btn btn-danger">Quitar</a></td>
                </tr>

              </tbody>
            </table>
          </div>

          <div class="col-lg-3">
            <h2 class="card-title">SUBTOTAL</h2>

            <ul class="list-group">
              <li class="list-group-item"><h5 th:text="${pedido.total}"></h5></li>
              <a th:href="@{/pedido}" class="btn btn-dark">Continuar</a>
            </ul>
          </div>

        </div>
      </div>
    </div>
    <!-- /.container -->

    <!-- Footer -->
    <div th:insert="~{usuarios/template_usuario :: footer}"></div>

    <!-- Scripts -->
    <div th:insert="~{usuarios/template_usuario :: scripts}"></div>

  </body>

  </html>
